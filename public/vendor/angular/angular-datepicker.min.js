/*!
 * Angular Datepicker v0.1.1
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * 2014-10-10
 */


!function(a){"use strict";a.module("720kb.datepicker",[]).directive("datepicker",["$window","$compile","$locale","$filter",function(b,c,d,e){var f=864e5;return{restrict:"E",scope:{},link:function(g,h,i){var j,k=a.element(h[0].children[0]),l='<b class="datepicker-default-button">&lang;</b>',m='<b class="datepicker-default-button">&rang;</b>',n=i.buttonPrev||l,o=i.buttonNext||m,p=i.dateFormat||"mediumDate",q=i.dateMinLimit||void 0,r=i.dateMaxLimit||void 0,s=new Date,t=!1,u=!1,v=d.DATETIME_FORMATS,w='<div class="datepicker-calendar" tabindex="0" ng-blur="hideCalendar()"><div class="datepicker-calendar-header"><div class="datepicker-calendar-header-left"><a href="javascript:void(0)" ng-click="prevMonth()">'+n+'</a></div><div class="datepicker-calendar-header-middle datepicker-calendar-month">{{month}} <a href="javascript:void(0)" ng-click="showYearsPagination = !showYearsPagination"><span>{{year}} <i ng-if="!showYearsPagination">&dtrif;</i> <i ng-if="showYearsPagination">&urtri;</i> </span> </a></div><div class="datepicker-calendar-header-right"><a href="javascript:void(0)" ng-click="nextMonth()">'+o+'</a></div></div><div class="datepicker-calendar-header" ng-show="showYearsPagination"><div class="datepicker-calendar-years-pagination"><a ng-class="{\'datepicker-active\': y === year, \'datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears">{{y}}</a></div><div class="datepicker-calendar-years-pagination-pages"><a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])">'+n+'</a><a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])">'+o+'</a></div></div><div class="datepicker-calendar-days-header"><div ng-repeat="d in daysInString"> {{d}} </div> </div><div class="datepicker-calendar-body"><a ng-repeat="px in prevMonthDays" class="datepicker-calendar-day datepicker-disabled">{{px}}</a><a ng-repeat="item in days" ng-click="setDatepickerDay(item)" ng-class="{\'datepicker-active\': day === item, \'datepicker-disabled\': !isSelectableMinDate(year + \'/\' + monthNumber + \'/\' + item ) || !isSelectableMaxDate(year + \'/\' + monthNumber + \'/\' + item)}" class="datepicker-calendar-day">{{item}}</a><a ng-repeat="nx in nextMonthDays" class="datepicker-calendar-day datepicker-disabled">{{nx}}</a></div></div></div>';g.$watch("dateSet",function(a){a&&(s=new Date(a),g.month=e("date")(s,"MMMM"),g.monthNumber=Number(e("date")(s,"MM")),g.day=Number(e("date")(s,"dd")),g.year=Number(e("date")(s,"yyyy")))}),g.month=e("date")(s,"MMMM"),g.monthNumber=Number(e("date")(s,"MM")),g.day=Number(e("date")(s,"dd")),g.year=Number(e("date")(s,"yyyy")),g.months=v.MONTH,g.daysInString=["0","1","2","3","4","5","6"].map(function(a){return e("date")(new Date(new Date("06/08/2014").valueOf()+f*a),"EEE")}),k.after(c(a.element(w))(g)),j=h[0].children[1],k.bind("focus click",function(){u=!0,g.showCalendar()}),k.bind("blur focusout",function(){u=!1}),a.element(j).bind("mouseenter",function(){t=!0}),a.element(j).bind("mouseleave",function(){t=!1}),a.element(b).bind("click",function(){t||u||g.hideCalendar()}),g.nextMonth=function(){12===g.monthNumber?(g.monthNumber=1,g.nextYear()):g.monthNumber+=1,g.month=e("date")(new Date(g.year+"/"+g.monthNumber+"/"+g.day),"MMMM"),g.setDaysInMonth(g.monthNumber,g.year),g.setInputValue()},g.setNewYear=function(a){g.year=Number(a),g.setDaysInMonth(g.monthNumber,g.year),g.paginateYears(a),g.setInputValue()},g.prevMonth=function(){1===g.monthNumber?(g.monthNumber=12,g.prevYear()):g.monthNumber-=1,g.month=e("date")(new Date(g.year+"/"+g.monthNumber+"/"+g.day),"MMMM"),g.setDaysInMonth(g.monthNumber,g.year),g.setInputValue()},g.nextYear=function(){g.year=Number(g.year)+1,g.setInputValue()},g.prevYear=function(){g.year=Number(g.year)-1,g.setInputValue()},g.setInputValue=function(){return g.isSelectableMinDate(g.year+"/"+g.monthNumber+"/"+g.day)&&g.isSelectableMaxDate(g.year+"/"+g.monthNumber+"/"+g.day)?void k.val(e("date")(new Date(g.year+"/"+g.monthNumber+"/"+g.day),p)).triggerHandler("input").triggerHandler("change"):!1},g.showCalendar=function(){j.classList.add("datepicker-open")},g.hideCalendar=function(){j.classList.remove("datepicker-open")},g.setDaysInMonth=function(a,b){var c,d,e,f,h=new Date(b,a,0).getDate(),i=new Date(b+"/"+a+"/1").getDay(),j=new Date(b+"/"+a+"/"+h).getDay(),k=[],l=[];for(g.days=[],c=1;h>=c;c+=1)g.days.push(c);if(0!==i){for(e=i,f=1===Number(a)?12:a-1,c=1;c<=new Date(b,f,0).getDate();c+=1)k.push(c);g.prevMonthDays=k.slice(-e)}else g.prevMonthDays=[];if(6>j){for(d=6-j,c=1;d>=c;c+=1)l.push(c);g.nextMonthDays=l}else g.nextMonthDays=[]},g.setDatepickerDay=function(a){g.day=Number(a),g.setInputValue(),g.hideCalendar()},g.paginateYears=function(a){g.paginationYears=[];var b;for(b=10;b>0;b-=1)g.paginationYears.push(a-b);for(b=0;10>b;b+=1)g.paginationYears.push(a+b)},g.isSelectableMinDate=function(a){return q&&new Date(q)&&new Date(a).getTime()<new Date(q).getTime()?!1:!0},g.isSelectableMaxDate=function(a){return r&&new Date(r)&&new Date(a).getTime()>new Date(r).getTime()?!1:!0},g.isSelectableMaxYear=function(a){return r&&a>new Date(r).getFullYear()?!1:!0},g.isSelectableMinYear=function(a){return q&&a<new Date(q).getFullYear()?!1:!0},g.paginateYears(g.year),g.setDaysInMonth(g.monthNumber,g.year)}}}])}(angular);
//# sourceMappingURL=angular-datepicker.sourcemap.map